{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.umd.min.js","webpack:///webpack/bootstrap c617ce256235556e68ac","webpack:///./src/helpers.ts","webpack:///external {\"root\":[\"ng\",\"core\"],\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\"}","webpack:///./src/Driver.ts","webpack:///./src/DriverTypes.ts","webpack:///./src/LockerConfig.ts","webpack:///./src/PolyfillDriver.ts","webpack:///./src/Locker.ts","webpack:///./src/index.ts","webpack:///./src/Locker.module.ts","webpack:///./src/MemoryStorage.ts","webpack:///./src/CookieStorage.ts","webpack:///./src/Cookie.ts"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","encode","str","encodeURIComponent","decode","decodeURIComponent","isInPast","date","Date","isString","toString","obj","toUTCString","isNil","item","undefined","isNumber","isExpired","data","config","expires","is","ctor","value","constructor","convertFromJSON","JSON","parse","e","serializeDataToString","stringify","COOKIE_SEP","helpers_1","Driver","storage","set","key","setItem","getItem","has","hasItem","remove","removeItem","clear","index","isSupported","core_1","PolyfillDriver_1","Driver_1","MemoryStorage_1","CookieStorage_1","DRIVERS","LocalStorageDriver","PollyfillDriver","localStorage","type","SessionStorageDriver","sessionStorage","MemoryStorageDriver","MemoryStorage","CookieStorageDriver","CookieStorage","LOCKER_DRIVER_TYPES","InjectionToken","DRIVER_TYPES_PROVIDERS","provide","multi","useValue","__decorate","decorators","target","desc","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","__metadata","k","v","metadata","__param","paramIndex","decorator","LOCKER_USER_CONFIG","DEFAULT_SEPERATOR","DEFAULT_NAMESPACE","DEFAULT_FALLBACK","USER_CONFIG_PROVIDER","namespaceSeparator","driverFallback","driverNamespace","configNotNil","prop","LockerConfig","Injectable","Inject","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","create","_super","_this","_checkExpiry","DriverTypes_1","LockerConfig_1","Locker","driverTypes","lockerConfig","setNamespace","setSeparator","setDriverFallback","namespace","separator","_getDriver","_makeKey","_decodeKey","slice","askedDriver","_getDriverType","_getFallbackDriverType","find","driverType","isArray","map","__export","Locker_1","LockerModule","LockerModule_1","withConfig","userConfig","ngModule","providers","concat","NgModule","_cache","Map","getKeys","from","keys","delete","Cookie_1","Cookie","getAll","forEach","DEFAULT_CONFIG","document","cookie","split","filter","items","reduce","res","_a","secure","maxAge","domain","path","isNaN"],"mappings":"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","file":"index.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ticktock\"] = factory(require(\"@angular/core\"));\n\telse\n\t\troot[\"ticktock\"] = factory(root[\"ng\"][\"core\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ticktock\"] = factory(require(\"@angular/core\"));\n\telse\n\t\troot[\"ticktock\"] = factory(root[\"ng\"][\"core\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Convenience\r\nfunction encode(str) {\r\n    return encodeURIComponent(str);\r\n}\r\nexports.encode = encode;\r\nfunction decode(str) {\r\n    return decodeURIComponent(str);\r\n}\r\nexports.decode = decode;\r\nexports.COOKIE_SEP = '; ';\r\nfunction isInPast(date) {\r\n    return date <= new Date();\r\n}\r\nexports.isInPast = isInPast;\r\nfunction isString(str) {\r\n    return typeof str === 'string';\r\n}\r\nexports.isString = isString;\r\nfunction toString(obj) {\r\n    return typeof obj.toUTCString === 'function' ? obj.toUTCString() : obj.toString();\r\n}\r\nexports.toString = toString;\r\nfunction isNil(item) {\r\n    return item === undefined || item === null;\r\n}\r\nexports.isNil = isNil;\r\nfunction isNumber(item) {\r\n    return typeof item === 'number';\r\n}\r\nexports.isNumber = isNumber;\r\nfunction isExpired(data) {\r\n    if (!data.config)\r\n        return false;\r\n    var expires = data.config.expires;\r\n    if (!expires)\r\n        return false;\r\n    return isInPast(expires instanceof Date ? expires : new Date(expires));\r\n}\r\nexports.isExpired = isExpired;\r\nfunction is(ctor, value) {\r\n    return value &&\r\n        value.constructor === ctor ||\r\n        value instanceof ctor;\r\n}\r\nexports.is = is;\r\nfunction convertFromJSON(data) {\r\n    if (typeof data !== 'string') {\r\n        return data;\r\n    }\r\n    else {\r\n        try {\r\n            return JSON.parse(data);\r\n        }\r\n        catch (e) {\r\n            return data;\r\n        }\r\n    }\r\n}\r\nexports.convertFromJSON = convertFromJSON;\r\nfunction serializeDataToString(data) {\r\n    return typeof data === 'object' ? JSON.stringify(data) : data.toString();\r\n}\r\nexports.serializeDataToString = serializeDataToString;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar helpers_1 = __webpack_require__(0);\r\nvar LOCKER_TEST_KEY = 'LOCKER_TEST_KEY';\r\nvar Driver = (function () {\r\n    function Driver(storage) {\r\n        this.storage = storage;\r\n    }\r\n    Driver.prototype.set = function (key, data, config) {\r\n        this.storage.setItem(key, helpers_1.serializeDataToString(data), config);\r\n    };\r\n    Driver.prototype.get = function (key) {\r\n        return helpers_1.convertFromJSON(this.storage.getItem(key));\r\n    };\r\n    Driver.prototype.has = function (key) {\r\n        var storage = this.storage;\r\n        return storage.hasItem ? storage.hasItem(key) : this.storage.hasOwnProperty(key);\r\n    };\r\n    Driver.prototype.remove = function (key) {\r\n        this.storage.removeItem(key);\r\n    };\r\n    Driver.prototype.clear = function () {\r\n        this.storage.clear();\r\n    };\r\n    Driver.prototype.key = function (index) {\r\n        if (index === void 0) { index = 0; }\r\n        return this.storage.key(index);\r\n    };\r\n    Driver.prototype.isSupported = function () {\r\n        try {\r\n            this.storage.setItem(LOCKER_TEST_KEY, LOCKER_TEST_KEY);\r\n            this.storage.getItem(LOCKER_TEST_KEY);\r\n            this.storage.removeItem(LOCKER_TEST_KEY);\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return Driver;\r\n}());\r\nexports.Driver = Driver;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(1);\r\nvar PolyfillDriver_1 = __webpack_require__(5);\r\nvar Driver_1 = __webpack_require__(2);\r\nvar MemoryStorage_1 = __webpack_require__(9);\r\nvar CookieStorage_1 = __webpack_require__(10);\r\nvar DRIVERS;\r\n(function (DRIVERS) {\r\n    DRIVERS[\"LOCAL\"] = \"local\";\r\n    DRIVERS[\"SESSION\"] = \"session\";\r\n    DRIVERS[\"MEMORY\"] = \"memory\";\r\n    DRIVERS[\"COOKIE\"] = \"cookie\";\r\n})(DRIVERS = exports.DRIVERS || (exports.DRIVERS = {}));\r\n/* tslint:disable variable-name */\r\nexports.LocalStorageDriver = {\r\n    storage: new PolyfillDriver_1.PollyfillDriver(localStorage),\r\n    type: \"local\" /* LOCAL */\r\n};\r\nexports.SessionStorageDriver = {\r\n    storage: new PolyfillDriver_1.PollyfillDriver(sessionStorage),\r\n    type: \"session\" /* SESSION */\r\n};\r\nexports.MemoryStorageDriver = {\r\n    storage: new PolyfillDriver_1.PollyfillDriver(new MemoryStorage_1.MemoryStorage()),\r\n    type: \"memory\" /* MEMORY */\r\n};\r\nexports.CookieStorageDriver = {\r\n    storage: new Driver_1.Driver(new CookieStorage_1.CookieStorage()),\r\n    type: \"cookie\" /* COOKIE */\r\n};\r\n/* tslint:enable variable-name */\r\nexports.LOCKER_DRIVER_TYPES = new core_1.InjectionToken('LOCKER_DRIVER_TYPES');\r\nexports.DRIVER_TYPES_PROVIDERS = [{\r\n        provide: exports.LOCKER_DRIVER_TYPES,\r\n        multi: true,\r\n        useValue: exports.LocalStorageDriver\r\n    }, {\r\n        provide: exports.LOCKER_DRIVER_TYPES,\r\n        multi: true,\r\n        useValue: exports.SessionStorageDriver\r\n    }, {\r\n        provide: exports.LOCKER_DRIVER_TYPES,\r\n        multi: true,\r\n        useValue: exports.MemoryStorageDriver\r\n    }, {\r\n        provide: exports.LOCKER_DRIVER_TYPES,\r\n        multi: true,\r\n        useValue: exports.CookieStorageDriver\r\n    }];\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(1);\r\nvar helpers_1 = __webpack_require__(0);\r\nexports.LOCKER_USER_CONFIG = new core_1.InjectionToken('LOCKER_USER_CONFIG');\r\nvar DEFAULT_SEPERATOR = ':';\r\nvar DEFAULT_NAMESPACE = '';\r\nvar DEFAULT_FALLBACK = \"session\" /* SESSION */;\r\nexports.USER_CONFIG_PROVIDER = {\r\n    provide: exports.LOCKER_USER_CONFIG,\r\n    useValue: {\r\n        namespaceSeparator: DEFAULT_SEPERATOR,\r\n        driverFallback: DEFAULT_FALLBACK,\r\n        driverNamespace: DEFAULT_NAMESPACE\r\n    }\r\n};\r\nvar configNotNil = function (config, prop) { return !config || helpers_1.isNil(config[prop]); };\r\nvar LockerConfig = (function () {\r\n    function LockerConfig(config) {\r\n        this.driverNamespace = configNotNil(config, 'driverNamespace') ? DEFAULT_NAMESPACE : config.driverNamespace;\r\n        this.driverFallback = configNotNil(config, 'driverFallback') ? DEFAULT_FALLBACK : config.driverFallback;\r\n        this.namespaceSeparator = configNotNil(config, 'namespaceSeparator') ? DEFAULT_SEPERATOR : config.namespaceSeparator;\r\n    }\r\n    LockerConfig = __decorate([\r\n        core_1.Injectable(),\r\n        __param(0, core_1.Inject(exports.LOCKER_USER_CONFIG)),\r\n        __metadata(\"design:paramtypes\", [Object])\r\n    ], LockerConfig);\r\n    return LockerConfig;\r\n}());\r\nexports.LockerConfig = LockerConfig;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Driver_1 = __webpack_require__(2);\r\nvar helpers_1 = __webpack_require__(0);\r\n// This driver is a special driver to handle expiry and other options (similar to cookies)\r\n// stores data as {data: myData, config: {expiry: new Date()}}\r\nvar PollyfillDriver = (function (_super) {\r\n    __extends(PollyfillDriver, _super);\r\n    function PollyfillDriver(storage) {\r\n        var _this = _super.call(this, storage) || this;\r\n        _this.storage = storage;\r\n        return _this;\r\n    }\r\n    PollyfillDriver.prototype.set = function (key, data, config) {\r\n        this.storage.setItem(key, helpers_1.serializeDataToString({ data: data, config: config }));\r\n    };\r\n    PollyfillDriver.prototype.get = function (key) {\r\n        this._checkExpiry(key);\r\n        var data = helpers_1.convertFromJSON(this.storage.getItem(key));\r\n        return (data && data.hasOwnProperty('data')) ? data.data : data;\r\n    };\r\n    PollyfillDriver.prototype.has = function (key) {\r\n        this._checkExpiry(key);\r\n        var storage = this.storage;\r\n        return storage.hasItem ? storage.hasItem(key) : this.storage.hasOwnProperty(key);\r\n    };\r\n    PollyfillDriver.prototype.key = function (index) {\r\n        if (index === void 0) { index = 0; }\r\n        var key = this.storage.key(index);\r\n        this._checkExpiry(key);\r\n        return this.storage.key(index);\r\n    };\r\n    PollyfillDriver.prototype._checkExpiry = function (key) {\r\n        var data = helpers_1.convertFromJSON(this.storage.getItem(key));\r\n        if (data && helpers_1.isExpired(data))\r\n            this.remove(key);\r\n    };\r\n    return PollyfillDriver;\r\n}(Driver_1.Driver));\r\nexports.PollyfillDriver = PollyfillDriver;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(1);\r\nvar DriverTypes_1 = __webpack_require__(3);\r\nvar LockerConfig_1 = __webpack_require__(4);\r\nvar Locker = (function () {\r\n    function Locker(driverTypes, lockerConfig) {\r\n        this.driverTypes = driverTypes;\r\n        this.lockerConfig = lockerConfig;\r\n        this.setNamespace();\r\n        this.setSeparator();\r\n        this.setDriverFallback();\r\n    }\r\n    Locker.prototype.setNamespace = function (namespace) {\r\n        if (namespace === void 0) { namespace = this.lockerConfig.driverNamespace; }\r\n        this.namespace = namespace;\r\n    };\r\n    Locker.prototype.setSeparator = function (separator) {\r\n        if (separator === void 0) { separator = this.lockerConfig.namespaceSeparator; }\r\n        this.separator = separator;\r\n    };\r\n    Locker.prototype.setDriverFallback = function (driverFallback) {\r\n        if (driverFallback === void 0) { driverFallback = this.lockerConfig.driverFallback; }\r\n        this.driverFallback = driverFallback;\r\n    };\r\n    Locker.prototype.set = function (type, key, data, config) {\r\n        this._getDriver(type).set(this._makeKey(key), data, config);\r\n    };\r\n    Locker.prototype.get = function (type, key) {\r\n        return this._getDriver(type).get(this._makeKey(key));\r\n    };\r\n    Locker.prototype.has = function (type, key) {\r\n        return this._getDriver(type).has(this._makeKey(key));\r\n    };\r\n    Locker.prototype.remove = function (type, key) {\r\n        this._getDriver(type).remove(this._makeKey(key));\r\n    };\r\n    Locker.prototype.key = function (type, index) {\r\n        return this._decodeKey(this._getDriver(type).key(index));\r\n    };\r\n    Locker.prototype.clear = function (type) {\r\n        this._getDriver(type).clear();\r\n    };\r\n    Locker.prototype._makeKey = function (key) {\r\n        return this.namespace ? \"\" + this.namespace + this.separator + key : key;\r\n    };\r\n    Locker.prototype._decodeKey = function (key) {\r\n        if (this.namespace)\r\n            return key.slice(this.namespace.length + this.separator.length);\r\n        else\r\n            return key;\r\n    };\r\n    Locker.prototype._getDriver = function (type) {\r\n        var askedDriver = this._getDriverType(type);\r\n        if (askedDriver && askedDriver.storage.isSupported())\r\n            return askedDriver.storage;\r\n        else\r\n            return this._getFallbackDriverType().storage;\r\n    };\r\n    Locker.prototype._getDriverType = function (type) {\r\n        return this.driverTypes.find(function (driverType) { return driverType.type === type; });\r\n    };\r\n    Locker.prototype._getFallbackDriverType = function () {\r\n        var _this = this;\r\n        if (Array.isArray(this.driverFallback)) {\r\n            return this.driverFallback\r\n                .map(function (type) { return _this._getDriverType(type); })\r\n                .find(function (driverType) { return driverType.storage.isSupported(); }) || this._getDriverType(\"memory\" /* MEMORY */);\r\n        }\r\n        else if (this.driverFallback) {\r\n            var driverType = this._getDriverType(this.driverFallback);\r\n            return driverType.storage.isSupported() ? driverType : this._getDriverType(\"memory\" /* MEMORY */);\r\n        }\r\n        else {\r\n            return this._getDriverType(\"memory\" /* MEMORY */);\r\n        }\r\n    };\r\n    Locker = __decorate([\r\n        core_1.Injectable(),\r\n        __param(0, core_1.Inject(DriverTypes_1.LOCKER_DRIVER_TYPES)),\r\n        __metadata(\"design:paramtypes\", [Array, LockerConfig_1.LockerConfig])\r\n    ], Locker);\r\n    return Locker;\r\n}());\r\nexports.Locker = Locker;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(5));\r\n__export(__webpack_require__(8));\r\n__export(__webpack_require__(6));\r\n__export(__webpack_require__(3));\r\n__export(__webpack_require__(4));\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(1);\r\nvar Locker_1 = __webpack_require__(6);\r\nvar LockerConfig_1 = __webpack_require__(4);\r\nvar DriverTypes_1 = __webpack_require__(3);\r\nvar LockerModule = (function () {\r\n    function LockerModule() {\r\n    }\r\n    LockerModule_1 = LockerModule;\r\n    LockerModule.withConfig = function (userConfig) {\r\n        return {\r\n            ngModule: LockerModule_1,\r\n            providers: [Locker_1.Locker, LockerConfig_1.LockerConfig].concat(DriverTypes_1.DRIVER_TYPES_PROVIDERS, [{\r\n                    provide: LockerConfig_1.LOCKER_USER_CONFIG,\r\n                    useValue: userConfig\r\n                }])\r\n        };\r\n    };\r\n    LockerModule = LockerModule_1 = __decorate([\r\n        core_1.NgModule({\r\n            providers: [\r\n                Locker_1.Locker,\r\n                LockerConfig_1.LockerConfig\r\n            ].concat(DriverTypes_1.DRIVER_TYPES_PROVIDERS, [\r\n                LockerConfig_1.USER_CONFIG_PROVIDER\r\n            ])\r\n        })\r\n    ], LockerModule);\r\n    return LockerModule;\r\n    var LockerModule_1;\r\n}());\r\nexports.LockerModule = LockerModule;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _cache = new Map();\r\nvar getKeys = function () { return Array.from(_cache.keys()); };\r\nvar MemoryStorage = (function () {\r\n    function MemoryStorage() {\r\n    }\r\n    MemoryStorage.prototype.hasItem = function (key) {\r\n        return _cache.has(key);\r\n    };\r\n    MemoryStorage.prototype.getItem = function (key) {\r\n        return _cache.get(key);\r\n    };\r\n    MemoryStorage.prototype.setItem = function (key, value) {\r\n        _cache.set(key, value);\r\n    };\r\n    MemoryStorage.prototype.removeItem = function (key) {\r\n        _cache.delete(key);\r\n    };\r\n    MemoryStorage.prototype.clear = function () {\r\n        _cache.clear();\r\n    };\r\n    MemoryStorage.prototype.key = function (index) {\r\n        return getKeys()[index];\r\n    };\r\n    Object.defineProperty(MemoryStorage.prototype, \"length\", {\r\n        get: function () {\r\n            return getKeys().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return MemoryStorage;\r\n}());\r\nexports.MemoryStorage = MemoryStorage;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Cookie_1 = __webpack_require__(11);\r\nvar CookieStorage = (function () {\r\n    function CookieStorage() {\r\n    }\r\n    CookieStorage.prototype.hasItem = function (key) {\r\n        return !!Cookie_1.Cookie.get(key);\r\n    };\r\n    CookieStorage.prototype.getItem = function (key) {\r\n        return Cookie_1.Cookie.get(key);\r\n    };\r\n    CookieStorage.prototype.setItem = function (key, value, config) {\r\n        Cookie_1.Cookie.set(key, value, config);\r\n    };\r\n    CookieStorage.prototype.removeItem = function (key) {\r\n        Cookie_1.Cookie.remove(key);\r\n    };\r\n    CookieStorage.prototype.clear = function () {\r\n        Object.keys(Cookie_1.Cookie.getAll())\r\n            .forEach(function (key) { return Cookie_1.Cookie.remove(key); });\r\n    };\r\n    CookieStorage.prototype.key = function (index) {\r\n        var cookies = Object.keys(Cookie_1.Cookie.getAll());\r\n        return cookies[index];\r\n    };\r\n    Object.defineProperty(CookieStorage.prototype, \"length\", {\r\n        get: function () {\r\n            return Object.keys(Cookie_1.Cookie.getAll()).length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return CookieStorage;\r\n}());\r\nexports.CookieStorage = CookieStorage;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar helpers_1 = __webpack_require__(0);\r\nexports.DEFAULT_CONFIG = {};\r\nvar Cookie = (function () {\r\n    function Cookie() {\r\n    }\r\n    Cookie.getAll = function () {\r\n        return document.cookie\r\n            .split(helpers_1.COOKIE_SEP)\r\n            .filter(function (value) { return !!value; })\r\n            .map(function (items) { return items.split('='); })\r\n            .reduce(function (res, _a) {\r\n            var key = _a[0], value = _a[1];\r\n            res[helpers_1.decode(key)] = helpers_1.decode(value);\r\n            return res;\r\n        }, {});\r\n    };\r\n    Cookie.get = function (key) {\r\n        return this.getAll()[key];\r\n    };\r\n    Cookie.set = function (key, value, config) {\r\n        if (config === void 0) { config = exports.DEFAULT_CONFIG; }\r\n        var secure = config.secure, maxAge = config.maxAge, domain = config.domain, path = config.path, expires = config.expires;\r\n        var cookie = helpers_1.encode(key) + \"=\" + helpers_1.encode(value);\r\n        if (secure)\r\n            cookie += ';secure';\r\n        if (helpers_1.isNumber(maxAge) && !isNaN(maxAge))\r\n            cookie += \";max-age=\" + maxAge;\r\n        if (domain)\r\n            cookie += \";domain=\" + domain;\r\n        if (path)\r\n            cookie += \";path=\" + path;\r\n        if (expires)\r\n            cookie += \";expires=\" + (helpers_1.isString(expires) ? expires : helpers_1.toString(expires));\r\n        document.cookie = cookie;\r\n    };\r\n    Cookie.remove = function (key) {\r\n        this.set(key, this.get(key), { maxAge: 0 });\r\n    };\r\n    return Cookie;\r\n}());\r\nexports.Cookie = Cookie;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// index.umd.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c617ce256235556e68ac","import {IExpiryData} from './metadata'\n\n// Convenience\nexport function encode(str: string): string {\n  return encodeURIComponent(str)\n}\n\nexport function decode(str: string): string {\n  return decodeURIComponent(str)\n}\n\nexport const COOKIE_SEP = '; '\n\nexport function isInPast(date: Date): boolean {\n  return date <= new Date()\n}\n\nexport function isString(str: string | Date): boolean {\n  return typeof str === 'string'\n}\n\nexport function toString(obj: any): string {\n  return typeof obj.toUTCString === 'function' ? obj.toUTCString() : obj.toString()\n}\n\nexport function isNil(item: any) {\n  return item === undefined || item === null\n}\n\nexport function isNumber(item: any) {\n  return typeof item === 'number'\n}\n\nexport function isExpired(data: IExpiryData): boolean {\n  if (!data.config)\n    return false\n\n  const {expires} = data.config\n\n  if (!expires)\n    return false\n\n  return isInPast(expires instanceof Date ? expires : new Date(expires))\n}\n\nexport function is(ctor: any, value: any): boolean {\n  return value &&\n         value.constructor === ctor ||\n         value instanceof ctor\n}\n\nexport function convertFromJSON(data: any): any {\n  if (typeof data !== 'string') {\n    return data\n  } else {\n    try {\n      return JSON.parse(data)\n    } catch (e) {\n      return data\n    }\n  }\n}\n\nexport function serializeDataToString(data: any): string {\n  return typeof data === 'object' ? JSON.stringify(data) : data.toString()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":[\"ng\",\"core\"],\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\"}\n// module id = 1\n// module chunks = 0 1","import {IStorageSetConfig, IWebStorage, ICustomStorage} from './metadata'\nimport {convertFromJSON, serializeDataToString} from './helpers'\n\nconst LOCKER_TEST_KEY = 'LOCKER_TEST_KEY'\n\nexport class Driver {\n  constructor(public storage: IWebStorage | ICustomStorage) { }\n\n  public set(key: string, data: any, config?: IStorageSetConfig): void {\n    this.storage.setItem(key, serializeDataToString(data), config)\n  }\n\n  public get(key: string): any {\n    return convertFromJSON(this.storage.getItem(key))\n  }\n\n  public has(key: string): boolean {\n    const storage = <ICustomStorage>this.storage\n\n    return storage.hasItem ? storage.hasItem(key) : this.storage.hasOwnProperty(key)\n  }\n\n  public remove(key: string): void {\n    this.storage.removeItem(key)\n  }\n\n  public clear(): void {\n    this.storage.clear()\n  }\n\n  public key(index = 0): string {\n    return this.storage.key(index)\n  }\n\n  public isSupported(): boolean {\n    try {\n      this.storage.setItem(LOCKER_TEST_KEY, LOCKER_TEST_KEY)\n      this.storage.getItem(LOCKER_TEST_KEY)\n      this.storage.removeItem(LOCKER_TEST_KEY)\n    } catch (e) {\n      return false\n    }\n\n    return true\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Driver.ts","import {InjectionToken} from '@angular/core'\n\nimport {PollyfillDriver} from './PolyfillDriver'\nimport {Driver} from './Driver'\nimport {MemoryStorage} from './MemoryStorage'\nimport {CookieStorage} from './CookieStorage'\nimport {IDriverType} from './metadata'\n\nexport const enum DRIVERS {\n  LOCAL = 'local',\n  SESSION = 'session',\n  MEMORY = 'memory',\n  COOKIE = 'cookie'\n}\n\n/* tslint:disable variable-name */\n\nexport const LocalStorageDriver: IDriverType = {\n  storage: new PollyfillDriver(localStorage),\n  type: DRIVERS.LOCAL\n}\n\nexport const SessionStorageDriver: IDriverType = {\n  storage: new PollyfillDriver(sessionStorage),\n  type: DRIVERS.SESSION\n}\n\nexport const MemoryStorageDriver: IDriverType = {\n  storage: new PollyfillDriver(new MemoryStorage()),\n  type: DRIVERS.MEMORY\n}\n\nexport const CookieStorageDriver: IDriverType = {\n  storage: new Driver(new CookieStorage()),\n  type: DRIVERS.COOKIE\n}\n\n/* tslint:enable variable-name */\n\nexport const LOCKER_DRIVER_TYPES = new InjectionToken('LOCKER_DRIVER_TYPES')\n\nexport const DRIVER_TYPES_PROVIDERS = [{\n  provide: LOCKER_DRIVER_TYPES,\n  multi: true,\n  useValue: LocalStorageDriver\n}, {\n  provide: LOCKER_DRIVER_TYPES,\n  multi: true,\n  useValue: SessionStorageDriver\n}, {\n  provide: LOCKER_DRIVER_TYPES,\n  multi: true,\n  useValue: MemoryStorageDriver\n}, {\n  provide: LOCKER_DRIVER_TYPES,\n  multi: true,\n  useValue: CookieStorageDriver\n}]\n\n\n\n// WEBPACK FOOTER //\n// ./src/DriverTypes.ts","import {Inject, Injectable, InjectionToken} from '@angular/core'\n\nimport {ILockerConfig} from './metadata'\nimport {DRIVERS} from './DriverTypes'\nimport {isNil} from './helpers'\n\nexport const LOCKER_USER_CONFIG = new InjectionToken<string>('LOCKER_USER_CONFIG')\n\nconst DEFAULT_SEPERATOR = ':'\nconst DEFAULT_NAMESPACE = ''\nconst DEFAULT_FALLBACK = DRIVERS.SESSION\n\nexport const USER_CONFIG_PROVIDER = {\n  provide: LOCKER_USER_CONFIG,\n  useValue: {\n    namespaceSeparator: DEFAULT_SEPERATOR,\n    driverFallback: DEFAULT_FALLBACK,\n    driverNamespace: DEFAULT_NAMESPACE\n  }\n}\n\nconst configNotNil = (config: ILockerConfig, prop: keyof ILockerConfig): boolean => !config || isNil(config[prop])\n\n@Injectable()\nexport class LockerConfig {\n  public driverNamespace: string\n  public driverFallback: DRIVERS | DRIVERS[]\n  public namespaceSeparator: string\n\n  constructor(@Inject(LOCKER_USER_CONFIG) config: ILockerConfig) {\n    this.driverNamespace = configNotNil(config, 'driverNamespace') ? DEFAULT_NAMESPACE : config.driverNamespace\n    this.driverFallback = configNotNil(config, 'driverFallback') ? DEFAULT_FALLBACK : config.driverFallback\n    this.namespaceSeparator = configNotNil(config, 'namespaceSeparator') ? DEFAULT_SEPERATOR : config.namespaceSeparator\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/LockerConfig.ts","import {Driver} from './Driver'\nimport {serializeDataToString, convertFromJSON, isExpired} from './helpers'\nimport {IStorageSetConfig, ICustomStorage, IStorage} from './metadata'\n\n// This driver is a special driver to handle expiry and other options (similar to cookies)\n// stores data as {data: myData, config: {expiry: new Date()}}\nexport class PollyfillDriver extends Driver {\n  constructor(public storage: IStorage) {\n    super(storage)\n  }\n\n  public set(key: string, data: any, config?: IStorageSetConfig): void {\n    this.storage.setItem(key, serializeDataToString({data, config}))\n  }\n\n  public get(key: string): any {\n    this._checkExpiry(key)\n\n    const data = convertFromJSON(this.storage.getItem(key))\n\n    return (data && data.hasOwnProperty('data')) ? data.data : data\n  }\n\n  public has(key: string): boolean {\n    this._checkExpiry(key)\n\n    const storage = <ICustomStorage>this.storage\n\n    return storage.hasItem ? storage.hasItem(key) : this.storage.hasOwnProperty(key)\n  }\n\n  public key(index = 0): string {\n    const key = this.storage.key(index)\n\n    this._checkExpiry(key)\n\n    return this.storage.key(index)\n  }\n\n  private _checkExpiry(key: string) {\n    const data = convertFromJSON(this.storage.getItem(key))\n\n    if (data && isExpired(data))\n      this.remove(key)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/PolyfillDriver.ts","import {Injectable, Inject} from '@angular/core'\n\nimport {IStorageSetConfig, IDriverType} from './metadata'\nimport {Driver} from './Driver'\nimport {DRIVERS, LOCKER_DRIVER_TYPES} from './DriverTypes'\nimport {LockerConfig} from './LockerConfig'\n\n@Injectable()\nexport class Locker {\n  private driverFallback: DRIVERS | DRIVERS[]\n  private namespace: string\n  private separator: string\n\n  constructor(@Inject(LOCKER_DRIVER_TYPES) private driverTypes: IDriverType[], private lockerConfig: LockerConfig) {\n    this.setNamespace()\n    this.setSeparator()\n    this.setDriverFallback()\n  }\n\n  public setNamespace(namespace: string = this.lockerConfig.driverNamespace) {\n    this.namespace = namespace\n  }\n\n  public setSeparator(separator: string = this.lockerConfig.namespaceSeparator) {\n    this.separator = separator\n  }\n\n  public setDriverFallback(driverFallback: DRIVERS | DRIVERS[] = this.lockerConfig.driverFallback) {\n    this.driverFallback = driverFallback\n  }\n\n  public set(type: DRIVERS, key: string, data: any, config?: IStorageSetConfig) {\n    this._getDriver(type).set(this._makeKey(key), data, config)\n  }\n\n  public get(type: DRIVERS, key: string) {\n    return this._getDriver(type).get(this._makeKey(key))\n  }\n\n  public has(type: DRIVERS, key: string) {\n    return this._getDriver(type).has(this._makeKey(key))\n  }\n\n  public remove(type: DRIVERS, key: string) {\n    this._getDriver(type).remove(this._makeKey(key))\n  }\n\n  public key(type: DRIVERS, index?: number) {\n    return this._decodeKey(this._getDriver(type).key(index))\n  }\n\n  public clear(type: DRIVERS) {\n    this._getDriver(type).clear()\n  }\n\n  private _makeKey(key: string): string {\n    return this.namespace ? `${this.namespace}${this.separator}${key}` : key\n  }\n\n  private _decodeKey(key: string): string {\n    if (this.namespace)\n      return key.slice(this.namespace.length + this.separator.length)\n    else\n      return key\n  }\n\n  private _getDriver(type: DRIVERS): Driver {\n    const askedDriver = this._getDriverType(type)\n\n    if (askedDriver && askedDriver.storage.isSupported())\n      return askedDriver.storage\n    else\n      return this._getFallbackDriverType().storage\n  }\n\n  private _getDriverType(type: DRIVERS): IDriverType {\n    return this.driverTypes.find((driverType) => driverType.type === type)\n  }\n\n  private _getFallbackDriverType(): IDriverType {\n    if (Array.isArray(this.driverFallback)) {\n      return this.driverFallback\n        .map((type) => this._getDriverType(type))\n        .find((driverType) => driverType.storage.isSupported()) || this._getDriverType(DRIVERS.MEMORY)\n    } else if (this.driverFallback) {\n      const driverType = this._getDriverType(this.driverFallback)\n\n      return driverType.storage.isSupported() ? driverType : this._getDriverType(DRIVERS.MEMORY)\n    } else {\n      return this._getDriverType(DRIVERS.MEMORY)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Locker.ts","export * from './Driver'\nexport * from './PolyfillDriver'\nexport * from './Locker.module'\nexport * from './Locker'\nexport * from './DriverTypes'\nexport * from './metadata'\nexport * from './LockerConfig'\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import {NgModule, ModuleWithProviders} from '@angular/core'\n\nimport {Locker} from './Locker'\nimport {LockerConfig, USER_CONFIG_PROVIDER, LOCKER_USER_CONFIG} from './LockerConfig'\nimport {DRIVER_TYPES_PROVIDERS} from './DriverTypes'\nimport {ILockerConfig} from './metadata'\n\n@NgModule({\n  providers: [\n    Locker,\n    LockerConfig,\n    ...DRIVER_TYPES_PROVIDERS,\n    USER_CONFIG_PROVIDER\n  ]\n})\nexport class LockerModule {\n  public static withConfig(userConfig: ILockerConfig): ModuleWithProviders {\n    return {\n      ngModule: LockerModule,\n      providers: [Locker, LockerConfig, ...DRIVER_TYPES_PROVIDERS, {\n        provide: LOCKER_USER_CONFIG,\n        useValue: userConfig\n      }]\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Locker.module.ts","import {ICustomStorage} from './metadata'\n\n// This is dumb TODO: REMOVE\ndeclare const Map: any\n\nconst _cache = new Map()\n\nconst getKeys = (): any[] => Array.from(_cache.keys())\n\nexport class MemoryStorage implements ICustomStorage {\n  public hasItem(key: string) {\n    return _cache.has(key)\n  }\n\n  public getItem(key: string) {\n    return _cache.get(key)\n  }\n\n  public setItem(key: string, value: string) {\n    _cache.set(key, value)\n  }\n\n  public removeItem(key: string) {\n    _cache.delete(key)\n  }\n\n  public clear() {\n    _cache.clear()\n  }\n\n  public key(index: number) {\n    return getKeys()[index]\n  }\n\n  public get length() {\n    return getKeys().length\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/MemoryStorage.ts","import {ICustomStorage, IStorageSetConfig} from './metadata'\nimport {Cookie} from './Cookie'\n\nexport class CookieStorage implements ICustomStorage {\n  public hasItem(key: string) {\n    return <boolean>!!Cookie.get(key)\n  }\n\n  public getItem(key: string) {\n    return Cookie.get(key)\n  }\n\n  public setItem(key: string, value: any, config: IStorageSetConfig) {\n    Cookie.set(key, value, config)\n  }\n\n  public removeItem(key: string) {\n    Cookie.remove(key)\n  }\n\n  public clear() {\n    Object.keys(Cookie.getAll())\n      .forEach((key) => Cookie.remove(key))\n  }\n\n  public key(index: number) {\n    const cookies = Object.keys(Cookie.getAll())\n\n    return cookies[index]\n  }\n\n  public get length() {\n    return Object.keys(Cookie.getAll()).length\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CookieStorage.ts","import {IStorageSetConfig} from './metadata'\nimport {COOKIE_SEP, encode, decode, toString, isString, isNumber} from './helpers'\n\nexport const DEFAULT_CONFIG: IStorageSetConfig = {}\n\nexport class Cookie {\n  public static getAll(): {[key: string]: any} {\n    return document.cookie\n      .split(COOKIE_SEP)\n      .filter((value) => !!value)\n      .map((items: string) => items.split('='))\n      .reduce((res: {[key: string]: any}, [key, value]: [string, string]) => {\n        res[decode(key)] = decode(value)\n\n        return res\n      }, {})\n  }\n\n  public static get(key: string): any {\n    return this.getAll()[key]\n  }\n\n  public static set(key: string, value: any, config = DEFAULT_CONFIG): void {\n    const {secure, maxAge, domain, path, expires} = config\n\n    let cookie = `${encode(key)}=${encode(value)}`\n\n    if (secure)\n      cookie += ';secure'\n\n    if (isNumber(maxAge) && !isNaN(maxAge))\n      cookie += `;max-age=${maxAge}`\n\n    if (domain)\n      cookie += `;domain=${domain}`\n\n    if (path)\n      cookie += `;path=${path}`\n\n    if (expires)\n      cookie += `;expires=${isString(expires) ? expires : toString(expires)}`\n\n    document.cookie = cookie\n  }\n\n  public static remove(key: string) {\n    this.set(key, this.get(key), {maxAge: 0})\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Cookie.ts"],"sourceRoot":""}