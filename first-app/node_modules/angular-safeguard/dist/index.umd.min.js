/**
 * angular-safeguard - angular library for managing session, locker and cookie storage, has backup for in-memory if none are supported
 * @version v2.1.0
 * @author undefined
 * @link https://github.com/MikaAK/angular-safeguard#readme
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core")):"function"==typeof define&&define.amd?define(["@angular/core"],t):"object"==typeof exports?exports.ticktock=t(require("@angular/core")):e.ticktock=t(e.ng.core)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,r){"use strict";function o(e){return encodeURIComponent(e)}function n(e){return decodeURIComponent(e)}function i(e){return e<=new Date}function c(e){return"string"==typeof e}function a(e){return"function"==typeof e.toUTCString?e.toUTCString():e.toString()}function s(e){return void 0===e||null===e}function u(e){return"number"==typeof e}function p(e){if(!e.config)return!1;var t=e.config.expires;return!!t&&i(t instanceof Date?t:new Date(t))}function f(e,t){return t&&t.constructor===e||t instanceof e}function l(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){return e}}function y(e){return"object"==typeof e?JSON.stringify(e):e.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=o,t.decode=n,t.COOKIE_SEP="; ",t.isInPast=i,t.isString=c,t.toString=a,t.isNil=s,t.isNumber=u,t.isExpired=p,t.is=f,t.convertFromJSON=l,t.serializeDataToString=y},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(e){this.storage=e}return e.prototype.set=function(e,t,r){this.storage.setItem(e,o.serializeDataToString(t),r)},e.prototype.get=function(e){return o.convertFromJSON(this.storage.getItem(e))},e.prototype.has=function(e){var t=this.storage;return t.hasItem?t.hasItem(e):this.storage.hasOwnProperty(e)},e.prototype.remove=function(e){this.storage.removeItem(e)},e.prototype.clear=function(){this.storage.clear()},e.prototype.key=function(e){return void 0===e&&(e=0),this.storage.key(e)},e.prototype.isSupported=function(){try{this.storage.setItem("LOCKER_TEST_KEY","LOCKER_TEST_KEY"),this.storage.getItem("LOCKER_TEST_KEY"),this.storage.removeItem("LOCKER_TEST_KEY")}catch(e){return!1}return!0},e}();t.Driver=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(5),i=r(2),c=r(9),a=r(10);!function(e){e.LOCAL="local",e.SESSION="session",e.MEMORY="memory",e.COOKIE="cookie"}(t.DRIVERS||(t.DRIVERS={})),t.LocalStorageDriver={storage:new n.PollyfillDriver(localStorage),type:"local"},t.SessionStorageDriver={storage:new n.PollyfillDriver(sessionStorage),type:"session"},t.MemoryStorageDriver={storage:new n.PollyfillDriver(new c.MemoryStorage),type:"memory"},t.CookieStorageDriver={storage:new i.Driver(new a.CookieStorage),type:"cookie"},t.LOCKER_DRIVER_TYPES=new o.InjectionToken("LOCKER_DRIVER_TYPES"),t.DRIVER_TYPES_PROVIDERS=[{provide:t.LOCKER_DRIVER_TYPES,multi:!0,useValue:t.LocalStorageDriver},{provide:t.LOCKER_DRIVER_TYPES,multi:!0,useValue:t.SessionStorageDriver},{provide:t.LOCKER_DRIVER_TYPES,multi:!0,useValue:t.MemoryStorageDriver},{provide:t.LOCKER_DRIVER_TYPES,multi:!0,useValue:t.CookieStorageDriver}]},function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(1),a=r(0);t.LOCKER_USER_CONFIG=new c.InjectionToken("LOCKER_USER_CONFIG");var s=":",u="",p="session";t.USER_CONFIG_PROVIDER={provide:t.LOCKER_USER_CONFIG,useValue:{namespaceSeparator:s,driverFallback:p,driverNamespace:u}};var f=function(e,t){return!e||a.isNil(e[t])},l=function(){function e(e){this.driverNamespace=f(e,"driverNamespace")?u:e.driverNamespace,this.driverFallback=f(e,"driverFallback")?p:e.driverFallback,this.namespaceSeparator=f(e,"namespaceSeparator")?s:e.namespaceSeparator}return e=o([c.Injectable(),i(0,c.Inject(t.LOCKER_USER_CONFIG)),n("design:paramtypes",[Object])],e)}();t.LockerConfig=l},function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(0),c=function(e){function t(t){var r=e.call(this,t)||this;return r.storage=t,r}return o(t,e),t.prototype.set=function(e,t,r){this.storage.setItem(e,i.serializeDataToString({data:t,config:r}))},t.prototype.get=function(e){this._checkExpiry(e);var t=i.convertFromJSON(this.storage.getItem(e));return t&&t.hasOwnProperty("data")?t.data:t},t.prototype.has=function(e){this._checkExpiry(e);var t=this.storage;return t.hasItem?t.hasItem(e):this.storage.hasOwnProperty(e)},t.prototype.key=function(e){void 0===e&&(e=0);var t=this.storage.key(e);return this._checkExpiry(t),this.storage.key(e)},t.prototype._checkExpiry=function(e){var t=i.convertFromJSON(this.storage.getItem(e));t&&i.isExpired(t)&&this.remove(e)},t}(n.Driver);t.PollyfillDriver=c},function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(1),a=r(3),s=r(4),u=function(){function e(e,t){this.driverTypes=e,this.lockerConfig=t,this.setNamespace(),this.setSeparator(),this.setDriverFallback()}return e.prototype.setNamespace=function(e){void 0===e&&(e=this.lockerConfig.driverNamespace),this.namespace=e},e.prototype.setSeparator=function(e){void 0===e&&(e=this.lockerConfig.namespaceSeparator),this.separator=e},e.prototype.setDriverFallback=function(e){void 0===e&&(e=this.lockerConfig.driverFallback),this.driverFallback=e},e.prototype.set=function(e,t,r,o){this._getDriver(e).set(this._makeKey(t),r,o)},e.prototype.get=function(e,t){return this._getDriver(e).get(this._makeKey(t))},e.prototype.has=function(e,t){return this._getDriver(e).has(this._makeKey(t))},e.prototype.remove=function(e,t){this._getDriver(e).remove(this._makeKey(t))},e.prototype.key=function(e,t){return this._decodeKey(this._getDriver(e).key(t))},e.prototype.clear=function(e){this._getDriver(e).clear()},e.prototype._makeKey=function(e){return this.namespace?""+this.namespace+this.separator+e:e},e.prototype._decodeKey=function(e){return this.namespace?e.slice(this.namespace.length+this.separator.length):e},e.prototype._getDriver=function(e){var t=this._getDriverType(e);return t&&t.storage.isSupported()?t.storage:this._getFallbackDriverType().storage},e.prototype._getDriverType=function(e){return this.driverTypes.find(function(t){return t.type===e})},e.prototype._getFallbackDriverType=function(){var e=this;if(Array.isArray(this.driverFallback))return this.driverFallback.map(function(t){return e._getDriverType(t)}).find(function(e){return e.storage.isSupported()})||this._getDriverType("memory");if(this.driverFallback){var t=this._getDriverType(this.driverFallback);return t.storage.isSupported()?t:this._getDriverType("memory")}return this._getDriverType("memory")},e=o([c.Injectable(),i(0,c.Inject(a.LOCKER_DRIVER_TYPES)),n("design:paramtypes",[Array,s.LockerConfig])],e)}();t.Locker=u},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(2)),o(r(5)),o(r(8)),o(r(6)),o(r(3)),o(r(4))},function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(6),c=r(4),a=r(3),s=function(){function e(){}return t=e,e.withConfig=function(e){return{ngModule:t,providers:[i.Locker,c.LockerConfig].concat(a.DRIVER_TYPES_PROVIDERS,[{provide:c.LOCKER_USER_CONFIG,useValue:e}])}},e=t=o([n.NgModule({providers:[i.Locker,c.LockerConfig].concat(a.DRIVER_TYPES_PROVIDERS,[c.USER_CONFIG_PROVIDER])})],e);var t}();t.LockerModule=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new Map,n=function(){return Array.from(o.keys())},i=function(){function e(){}return e.prototype.hasItem=function(e){return o.has(e)},e.prototype.getItem=function(e){return o.get(e)},e.prototype.setItem=function(e,t){o.set(e,t)},e.prototype.removeItem=function(e){o.delete(e)},e.prototype.clear=function(){o.clear()},e.prototype.key=function(e){return n()[e]},Object.defineProperty(e.prototype,"length",{get:function(){return n().length},enumerable:!0,configurable:!0}),e}();t.MemoryStorage=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),n=function(){function e(){}return e.prototype.hasItem=function(e){return!!o.Cookie.get(e)},e.prototype.getItem=function(e){return o.Cookie.get(e)},e.prototype.setItem=function(e,t,r){o.Cookie.set(e,t,r)},e.prototype.removeItem=function(e){o.Cookie.remove(e)},e.prototype.clear=function(){Object.keys(o.Cookie.getAll()).forEach(function(e){return o.Cookie.remove(e)})},e.prototype.key=function(e){return Object.keys(o.Cookie.getAll())[e]},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(o.Cookie.getAll()).length},enumerable:!0,configurable:!0}),e}();t.CookieStorage=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);t.DEFAULT_CONFIG={};var n=function(){function e(){}return e.getAll=function(){return document.cookie.split(o.COOKIE_SEP).filter(function(e){return!!e}).map(function(e){return e.split("=")}).reduce(function(e,t){var r=t[0],n=t[1];return e[o.decode(r)]=o.decode(n),e},{})},e.get=function(e){return this.getAll()[e]},e.set=function(e,r,n){void 0===n&&(n=t.DEFAULT_CONFIG);var i=n.secure,c=n.maxAge,a=n.domain,s=n.path,u=n.expires,p=o.encode(e)+"="+o.encode(r);i&&(p+=";secure"),o.isNumber(c)&&!isNaN(c)&&(p+=";max-age="+c),a&&(p+=";domain="+a),s&&(p+=";path="+s),u&&(p+=";expires="+(o.isString(u)?u:o.toString(u))),document.cookie=p},e.remove=function(e){this.set(e,this.get(e),{maxAge:0})},e}();t.Cookie=n}])});
//# sourceMappingURL=index.umd.min.js.map